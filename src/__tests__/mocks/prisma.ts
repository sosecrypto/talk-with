import { vi } from 'vitest'
import { prisma } from '@/lib/prisma'

export const mockPrisma = vi.mocked(prisma, true)

export function resetPrismaMocks() {
  vi.mocked(prisma.persona.findUnique).mockReset()
  vi.mocked(prisma.persona.findMany).mockReset()
  vi.mocked(prisma.conversation.findFirst).mockReset()
  vi.mocked(prisma.conversation.findMany).mockReset()
  vi.mocked(prisma.conversation.create).mockReset()
  vi.mocked(prisma.conversation.update).mockReset()
  vi.mocked(prisma.conversation.delete).mockReset()
  vi.mocked(prisma.conversation.groupBy).mockReset()
  vi.mocked(prisma.conversation.aggregate).mockReset()
  vi.mocked(prisma.message.create).mockReset()
  vi.mocked(prisma.message.count).mockReset()
  vi.mocked(prisma.message.aggregate).mockReset()
  vi.mocked(prisma.message.groupBy).mockReset()
  vi.mocked(prisma.messageAttachment.create).mockReset()
  vi.mocked(prisma.user.findUnique).mockReset()
  vi.mocked(prisma.user.create).mockReset()
  vi.mocked(prisma.user.findMany).mockReset()
  vi.mocked(prisma.user.count).mockReset()
  vi.mocked(prisma.user.update).mockReset()
  vi.mocked(prisma.userPreference.findUnique).mockReset()
  vi.mocked(prisma.userPreference.upsert).mockReset()
  vi.mocked(prisma.conversationFeedback.findMany).mockReset()
  vi.mocked(prisma.conversationFeedback.count).mockReset()
  vi.mocked(prisma.conversationFeedback.aggregate).mockReset()
  vi.mocked(prisma.conversationFeedback.groupBy).mockReset()
  vi.mocked(prisma.source.findMany).mockReset()
  vi.mocked(prisma.source.count).mockReset()
  vi.mocked(prisma.document.count).mockReset()
  vi.mocked(prisma.document.groupBy).mockReset()
  vi.mocked(prisma.chunk.count).mockReset()
  vi.mocked(prisma.auditLog.create).mockReset()
}
